# 基于九宫空间逻辑的中医脉象大模型架构共识
# TCM-LLM Spatial Logic Architecture Consensus
**日期**: 2026-01-15
**状态**: 已确认 (Confirmed)

本文档记录了项目从“视觉识别”向“空间逻辑推理”转型的核心设计共识。此架构将作为后续模型训练、论文撰写及系统迭代的基石。

---

## 1. 核心战略转型 (Strategic Pivot)

*   **原定路线**: 视觉识别 (OCR) -> 诊断
*   **新定路线**: **指尖感知 (Sensation) + 空间逻辑 (Spatial Logic) -> 诊断**
*   **核心价值**: 
    *   放弃单纯的 OCR 识别率竞争，转而在**中医逻辑的可解释性**与**空间关系的深度理解**上建立壁垒。
    *   强调模型能够模拟中医师“指尖下的感觉”并理解九宫格之间的“生克制化”关系。

## 2. 核心技术架构 (System Architecture)

模型设计采用 **"双塔-空间架构 (Dual-Tower Spatial Architecture)"**，由三层核心组件构成：

### Layer 1: 指尖感知编码器 (Sensation Encoder)
*   **输入**: 九宫格内各位置的自然语言描述（如“浮紧”、“沉细”、“无力”）。
*   **机制**: 利用 LLM 的 Embedding 层或轻量级 NLP 模型。
*   **功能**: 将医生的**“主观指尖感觉” (Qualia)** 转化为计算机可计算的**高维语义向量**。
*   **理念**: **"Words as Variables"** —— 文字描述即为输入变量。

### Layer 2: 九宫空间适配器 (Jiu-Gong Spatial Adapter) —— **论文核心亮点**
*   **定义**: 一个专门设计的独立神经网络层（Based on Transformer Encoder or GNN）。
*   **输入**: 9个来自感知层的独立向量。
*   **机制**: 利用 **Self-Attention (自注意力机制)** 计算向量间的**空间相互影响**。
    *   *示例*: 当判读“左关（肝）”时，模型会自动关注“左寸（心）”和“左尺（肾）”的状态，以判断“母子相生”或“上盛下虚”等病机。
*   **输出**: 融合了空间结构信息的**“病机特征向量”**。

### Layer 3: 大模型推理引擎 (LLM Reasoner)
*   **输入**: [病机特征向量] + [提示词 (Prompt)]。
*   **机制**: 冻结参数的通用大模型 (如 DeepSeek/Qwen)。
*   **功能**: 基于专业的病机特征，生成符合中医语境的最终诊断与处方。

## 3. 数据策略 (Data Strategy)

*   **当前行动**: 利用现有的 Web 录入系统，大规模录入真实的脉象描述数。
*   **数据性质**: 
    *   录入的文字描述是**Ground Truth (真值)**。
    *   无需等待图像识别功能，文本数据直接对应 Layer 1 的输入。
*   **录入标准**: 保持描述的“原汁原味”，尽可能使用专业术语（如“浮大中空”），以保留丰富的语义信息供模型学习。

## 4. 论文叙事方向 (Paper Narrative)
*   **Title Keywords**: Structure-Aware, Spatial-Logic, TCM-LLM Adapter.
*   **Main Contribution**: 提出了一种将**离散的身体感知信号**通过**结构化空间编码**转化为**逻辑推理能力**的方法，解决了通用大模型难以理解中医“整体观”和“空间异构性”的痛点。
